(()=>{"use strict";let t=document.getElementById("placingGrid"),o=document.getElementById("playerGrid"),e=document.getElementById("computerGrid"),i=document.getElementById("rotateButton");!function(){for(let i=0;i<100;i++){let a=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div");a.classList.add("playerCell"),r.classList.add("computerCell"),l.classList.add("placingGridCell"),r.id=i,a.id=i,l.id=i,o.appendChild(a),e.appendChild(r),t.appendChild(l)}}();let a=new class{constructor(){this.rotation=1,this.gameBoard=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],this.whichShip="Carrier",this.isfinished=!1,this.placeShip(),this.playGame()}playGame(){let t=document.querySelectorAll(".computerCell");for(let o=0;o<100;o++)t[o].addEventListener("click",(o=>{let e=o.target.id;t[e].classList.add("miss")}));for(;!this.isOver(););}receiveAttack(t,o){}setRotation(){1==this.rotation?this.rotation=10:this.rotation=1}placeShip(){let t=document.getElementById("placeText");t.textContent="Place your carrier";let o=document.querySelectorAll(".placingGridCell"),e=this;console.log(e);for(let i=0;i<o.length;i++)o[i].addEventListener("mouseover",(t=>{let e=parseInt(t.target.id),i=Math.floor(e/10),a=e%10;for(let t=0;t<100;t++){let e=Math.floor(t/10),i=t%10;0!=this.gameBoard[e][i]&&-1!=this.gameBoard[e][i]||(o[t].style.backgroundColor="white")}if("Carrier"==this.whichShip&&(1==this.rotation&&a<=5||10==this.rotation&&i<=5))for(let t=0;t<5;t++)o[e+t*this.rotation].style.backgroundColor="aquamarine";if("Battleship"==this.whichShip&&(1==this.rotation&&a<=6||10==this.rotation&&i<=6))for(let t=0;t<4;t++)o[e+t*this.rotation].style.backgroundColor="aquamarine";if("Destroyer"==this.whichShip&&(1==this.rotation&&a<=7||10==this.rotation&&i<=7))for(let t=0;t<3;t++)o[e+t*this.rotation].style.backgroundColor="aquamarine";if("Submarine"==this.whichShip&&(1==this.rotation&&a<=7||10==this.rotation&&i<=7))for(let t=0;t<3;t++)o[e+t*this.rotation].style.backgroundColor="aquamarine";if("Patrol Boat"==this.whichShip&&(1==this.rotation&&a<=8||10==this.rotation&&i<=8))for(let t=0;t<2;t++)o[e+t*this.rotation].style.backgroundColor="aquamarine"})),o[i].addEventListener("click",(i=>{let a=parseInt(i.target.id),r=Math.floor(a/10),l=a%10;if("Carrier"==this.whichShip){if((1==this.rotation&&l<=5||10==this.rotation&&r<=5)&&s(r,l,e.rotation,5)){console.log("hello worl2");for(let t=0;t<5;t++)1==this.rotation?this.gameBoard[r][l+t]=1:this.gameBoard[r+t][l]=1,o[a+t*this.rotation].style.backgroundColor="aquamarine",console.log(e.gameBoard);this.whichShip="Battleship",t.textContent="Place your Battleship"}}else if("Battleship"==this.whichShip){if((1==this.rotation&&l<=6||10==this.rotation&&r<=6)&&s(r,l,e.rotation,4)){for(let t=0;t<4;t++)1==this.rotation?this.gameBoard[r][l+t]=1:this.gameBoard[r+t][l]=1,o[a+t*this.rotation].style.backgroundColor="aquamarine";this.whichShip="Destroyer",t.textContent="Place your Destroyer"}}else if("Destroyer"==this.whichShip){if((1==this.rotation&&l<=7||10==this.rotation&&r<=7)&&s(r,l,e.rotation,3)){for(let t=0;t<3;t++)1==this.rotation?this.gameBoard[r][l+t]=1:this.gameBoard[r+t][l]=1,o[a+t*this.rotation].style.backgroundColor="aquamarine";this.whichShip="Submarine",t.textContent="Place your Submarine"}}else if("Submarine"==this.whichShip){if((1==this.rotation&&l<=7||10==this.rotation&&r<=7)&&s(r,l,e.rotation,3)){for(let t=0;t<3;t++)1==this.rotation?this.gameBoard[r][l+t]=1:this.gameBoard[r+t][l]=1,o[a+t*this.rotation].style.backgroundColor="aquamarine";this.whichShip="Patrol Boat",t.textContent="Place your Patrol Boat"}}else if("Patrol Boat"==this.whichShip&&(1==this.rotation&&l<=8||10==this.rotation&&r<=8)&&s(r,l,e.rotation,2)){for(let t=0;t<2;t++)1==this.rotation?this.gameBoard[r][l+t]=1:this.gameBoard[r+t][l]=1,o[a+t*this.rotation].style.backgroundColor="aquamarine";document.getElementById("placeGrid-div").classList.add("passive"),document.querySelector("body").classList.remove("passive");let t=document.querySelectorAll(".playerCell");for(let o=0;o<100;o++){let e=Math.floor(o/10),i=o%10;console.log(e+" "+i),console.log(this.gameBoard),1==this.gameBoard[e][i]&&(t[o].style.backgroundColor="rgb(70,70,70)")}}function s(t,o,i,a){console.log("hello"+t+" "+o);let r=t,l=o,s=!0;if(1==i){for(let i=0;i<a;i++){if(o<=9&&(-1==e.gameBoard[t][o]||1==e.gameBoard[t][o])){s=!1;break}o++}if(t=r,o=l,s)for(let i=0;i<a;i++)t-1>=0&&o-1>=0&&(e.gameBoard[t-1][o-1]=-1),t+1<=9&&o-1>=0&&(e.gameBoard[t+1][o-1]=-1),0==i?o-1>=0&&(e.gameBoard[t][o-1]=-1):i==a-1&&(console.log("sondayım"+t+" "+o),t-1>=0&&(console.log("1"),e.gameBoard[t-1][o]=-1),t+1<=9&&(console.log("2"),e.gameBoard[t+1][o]=-1),o+1<=9&&(e.gameBoard[t][o+1]=-1),t-1>=0&&o+1<=9&&o+1<=9&&(e.gameBoard[t-1][o+1]=-1),t+1<=9&&o+1<=9&&(e.gameBoard[t+1][o+1]=-1)),o++;console.log("finishedRow"),console.log(e.gameBoard)}else if(10==i){for(let i=0;i<a;i++){if(t<=9&&(-1==e.gameBoard[t][o]||1==e.gameBoard[t][o])){s=!1;break}t++}if(t=r,o=l,s)for(let i=0;i<a;i++)o-1>=0&&t-1>=0&&(e.gameBoard[t-1][o-1]=-1),o+1<=9&&t-1>=0&&(e.gameBoard[t-1][o+1]=-1),0==i?t-1>=0&&(e.gameBoard[t-1][o]=-1):i==a-1&&(console.log("sondayım"+t+" "+o),o-1>=0&&(console.log("1"),e.gameBoard[t][o-1]=-1),o+1<=9&&(console.log("2"),e.gameBoard[t][o+1]=-1),t+1<=9&&(e.gameBoard[t+1][o]=-1),o-1>=0&&t+1<=9&&o+1<=9&&(e.gameBoard[t+1][o-1]=-1),o+1<=9&&t+1<=9&&(e.gameBoard[t+1][o+1]=-1)),t++;console.log("finishedCol"),console.log(e.gameBoard)}return console.log(s),s}}))}isOver(){return isfinished}};i.addEventListener("click",(()=>{a.setRotation()}))})();